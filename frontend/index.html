<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Math Reflex Survival - Menu</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="menu-container">
    <h1>üçå Math Reflex Survival</h1>
    <p>Welcome, <span id="playerName" class="username"></span>!</p>

    <button onclick="logout()">Logout</button>


    <button class="play-btn" onclick="startGame()">Play Game</button>
    <button class="daily-btn" onclick="dailyChallenge()">Daily Challenge</button>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <script>
    // üîê Check if user is logged in
    const userId = localStorage.getItem("userId");
    const username = localStorage.getItem("username");

    if (!userId) {
      window.location.href = "auth.html";
    }

    // Display username
    document.getElementById("playerName").textContent = username;

    function startGame() {
      window.location.href = "game.html";
    }

    function dailyChallenge() {
      const today = new Date().toDateString();
      const lastPlayed = localStorage.getItem("dailyChallengeDate");

      if (lastPlayed === today) {
        alert("You already played today's challenge!");
      } else {
        localStorage.setItem("dailyChallengeDate", today);
        alert("Starting Daily Challenge!");
        window.location.href = "game.html";
      }
    }

    function logout() {
      localStorage.clear();
      window.location.href = "auth.html";
    }
  </script>

</body>
</html>
